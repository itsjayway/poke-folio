<!DOCTYPE html>
<html>

<head>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu">
  <link href="https://fonts.googleapis.com/css2?family=Lexend+Mega&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  <!-- <script type = "text/javascript" src = "script.js"/></script> -->
  <title>Jibran's Portfolio</title>
</head>

<body>
  <section>
    <audio autoplay loop id="welcomeSound" controls="controls" preload="auto">
      <!-- add autoplay to above line to have music -->
      <source src="audio/battle-music.mp3">
      </source>
      <source src="audio/battle-music-ogg.ogg">
      </source>
      Your Browser does not support please use (Firefox 3.5+, Chrome 3+, Opera 10.5+, Safari 4+, IE 9+) browsers.
    </audio>
    <audio id="item-select">
      <source src="audio/item_select.mp3">
      </source>
    </audio>
    <audio id="attack-sound">
      <source src="audio/attack_sound.mp3">
      </source>
    </audio>
    <audio loop id="victorySound" preload="auto">
      <!-- add autoplay to above line to have music -->
      <source src="audio/victory.mp3">
      </source>
    </audio>
    <td width=10% valign="top" align="right">
      <div id="togg">
        <img src="http://upload.wikimedia.org/wikipedia/commons/thumb/2/21/Speaker_Icon.svg/500px-Speaker_Icon.svg.png" onclick="toggleSound(this);" width=40px height=40px>
        <br><img src="music_icon.png" onclick="toggleMusic(this);" width=30px height=30px>
      </div>
    </td>
  </section>

  <div id="container">
    <img id="base" src="base-most-final1.png">
    <img id="back" src="back.png">
    <div id="hp"></div>

    <p id="hp-num">
      20
    </p>

    <div id="attack"></div>

    <div id="typewriter-id" class="typewriter">
      <h1 id="typewriter-sentence"></h1>
    </div>

    <div id="choice-container">
      <div id="choice-grid">
        <h2 id="resume-text" class="choice text" title="Your go-to!">RESUME</h2>
        <h2 id="experience-text" class="choice" title="What am I up to?">SKILLS</h2>
        <h2 id="projects-text" class="choice" title="Best of my best!">PROJECTS</h2>
        <h2 id="about-text" class="choice" title="A trip down memory lane...">ABOUT</h2>
      </div>
    </div>

    <div id="easter-info">
      <h2 id="easter" class="choice text"></h2>
    </div>

    <div id="modal-popup" class="modal-popup">
      <div id="modal-resume" class="modal-content-resume popup">

        <div class="button-group">
          <a href="https://web.njit.edu/~jga26/download/resume.pdf" target="_blank">
            <button id="resume-full" class="close2">Open in New Tab</button></a>
          <button id="resume-close" class="close2"><img src="x.png" width="15px" height="15px"></button>
        </div>

        <h1 id="resume-title" class="carc-title">Resume</h1>
        <embed id="resume-pdf" src="resume-hidden.pdf" width="800px" height="2100px" />
      </div>

      <div id="modal-experience" class="modal-content-experience popup">
        <button id="experience-close" class="close"><img src="x.png" width="15px" height="15px"></button>
        <h1 id="experience-title" class="carc-title">Skills</h1>
        <div id="lst-div">
          <div class="in-lst-div">
            <ul id="exp-list" class="modal-desc">
              <li>
                <h3 class="exp-title">Confident!</h3>
              </li>

              <li>Python</li>
              <li>Java</li>
              <li>C++</li>
              <li>HTML/CSS/JS</li>
              <li>Adobe Suite</li><br>

            </ul>
          </div>

          <div class="in-lst-div">
            <ul id="exp-list2" class="modal-desc">
              <li>
                <h3 id="exp-title2" class="exp-title">WIP...</h3>
              </li>
              <li>Android</li>
              <li>PHP</li>
              <li>Unity/C#</li><br>
            </ul>
          </div>

          <div id="soft">
            <ul id="exp-list3" class="modal-desc">
              <li>
                <h3 id="exp-title3" class="exp-title">Soft Skills</h3>
              </li>
              <li>Verbal and written communication</li>
              <li>Highly flexible</li>
              <li>Goal-oriented and self-motivated</li>
              <li>Effective analytical and problem solving capability</li>
            </ul>
          </div>
        </div>



        </ul>

      </div>

      <div id="modal-projects" class="modal-content-experience modal-content-projects popup">
        <button id="projects-close" class="close"><img src="x.png" width="15px" height="15px"></button>
        <h1 id="projects-title" class="carc-title">Projects</h1>

        <section id="projects">
          <div class="projects-grid">

            <a href="https://github.com/League-Application/Yuumi.GG-Android-App" target="_blank" class="project-tile">
              <div class="d1 tilec row1">
                <h2 class="project-title">YUUMI.GG</h2>
                <p class="description">A League of Legends Statistics Comparison app for Android that compares user stats</p><br>
                <img class="tile-image fix" src="https://github.com/League-Application/Yuumi.GG-Android-App/blob/main/Untitled4.gif?raw=true">
              </div>
            </a>

            <a href="https://github.com/jibranabsarulislam/MD5pass-crack-py" target="_blank" class="project-tile">
              <div class="d2 tilec row1">
                <h2 class="project-title">MD5pass-crack-py</h2>
                <p class="description">Python MD5 Password Crack leveraging hashcat</p><br>
                <img class="tile-image" src="https://raw.githubusercontent.com/jibranabsarulislam/MD5pass-crack-py/master/capture1.PNG">
              </div>
            </a>

            <a href="https://github.com/jibranabsarulislam/VaxMan-cpp-" target="_blank" class="project-tile">
              <div class="d3 tilec row2">
                <h2 class="project-title">VaxMan-cpp-</h2>
                <p class="description">Project converting the classic PacMan game into "VaxMan" erases duplicating ghosts!</p><br>
                <img class="tile-image" src="https://github.com/jibranabsarulislam/VaxMan-cpp-/blob/master/walkthrough.gif.gif?raw=true">

              </div>
            </a>

            <a href="https://github.com/jibranabsarulislam/PowerPainter" target="_blank" class="project-tile">
              <div class="d4 tilec row2">
                <h2 class="project-title">PowerPainter</h2>
                <p class="description">Unity/C# Project to explore basic game development</p><br>
                <img class="tile-image" src="https://camo.githubusercontent.com/2ce98ccc5e19208fb09a1d0a7e085111e514f8c20bf6ac3313e01a4102cf7331/68747470733a2f2f692e696d6775722e636f6d2f5068344c7755352e706e67">
              </div>
            </a>

            <a href="https://github.com/jibranabsarulislam/IT202" target="_blank" class="project-tile">
              <div class="d5 tilec row3">
                <h2 class="project-title">IT202</h2>
                <p class="description">SQL & PHP project involving database lookup, 2FA, and data querying</p><br>
                <img class="tile-image fix" src="https://i.imgur.com/3CJPrhb.png">
              </div>
            </a>

            <a href="https://github.com/jibranabsarulislam/IT114001" target="_blank" class="project-tile">
              <div class="d6 tilec row3">
                <h2 class="project-title">IT114</h2>
                <p class="description">Java coursework that emphasized Socket-Client to Server interactions and user-interface</p><br>
                <img class="tile-image" src="https://camo.githubusercontent.com/9439445490a248f62abd24d447addd7180d3dfec879c0e6ed7751cbea302d2b4/68747470733a2f2f696d6775722e636f6d2f356e6b653957422e706e67">
              </div>
            </a>

          </div>
        </section>
      </div>

      <div id="modal-about" class="modal-content-experience popup">
        <button id="about-close" class="close"><img src="x.png" width="15px" height="15px"></button>
        <h1 id="about-title" class="carc-title">About</h1>
        <div id="about-div">
          <h2 class="about-title">Who?</h2>
          <p class="about-desc">I'm Jibran Absarulislam, and I'm a Junior at NJIT studying Computer Science and Information Technology.</p>
          <h2 class="about-title">What?</h2>
          <p class="about-desc">I'm interested in all things tech, specifically:</p>
          <ul id="about-list">
            <li>Cybersecurity</li>
            <li>Software Development</li>
            <li>Application Development</li>
          </ul>
          <h2 class="about-title">Where?</h2>
          <p class="about-desc">I'm located in the tri-state area, but am interested in relocation during the Summer and Winter.</p>
          <h2 class="about-title">Why?</h2>
          <p class="about-desc">I was lucky to enter high school around
            the time of the
            <a href="https://www.bbc.com/news/world-us-canada-23123964">Snowden incident</a>, which introduced me
            to the world of technology and security. I find it very important that users and consumers are
            aware of the way their data is handled and who has access to it. My career goal is to provide my users with
            the reassurance everyone deserves.
          </p>
          <h2 class="about-title">How?</h2>
          <p class="about-desc">Learning through my projects and work experience!</p>
        </div>
      </div>

      <div id="modal-final" class="modal-content-experience2 popup">
        <a href="../index.html"><button id="final-close" class="close">Back to Home</button></a>
        <h1 id="final-title" class="carc-title">You win!</h1>
        <p id="final-desc">Please consider contacting me ^_^ Thanks for stopping by!</p>
        <p id="noenc">(Message is not encrypted!)</p>
        <form id="final-form" align="center" action="email.php" method="get" enctype="text/plain">
          <div class="centerme">
            <div id="form-contents">
              <span>
                <span class="red">*</span>Name: <input type="text" name="sender_name" required> <br>
              </span>
              <span>
                <span class="red">*</span>Email: <input type="email" name="sender_email" required> <br>
              </span>
              <span>
                Company: <input type="text" name="sender_company"> <br>
              </span>
              <span>
                <span class="red">*</span>Message: <textarea type="text" name="sender_message" required> </textarea><br>
              </span>
            </div>
            <button id="submitf" type="submit">Send</button>
          </div>
        </form>
      </div>
    </div>

  </div>
  <!-- <p id="watermark">Jibran Absarulislam 2021</p> -->
</body>

</html>

<script>
  function toggleSound(img) {
    img.src = img.src == "http://upload.wikimedia.org/wikipedia/commons/thumb/2/21/Speaker_Icon.svg/500px-Speaker_Icon.svg.png" ? "https://cdn2.iconfinder.com/data/icons/picons-essentials/57/music_off-512.png" :
      "http://upload.wikimedia.org/wikipedia/commons/thumb/2/21/Speaker_Icon.svg/500px-Speaker_Icon.svg.png";
    if (img.src == "http://upload.wikimedia.org/wikipedia/commons/thumb/2/21/Speaker_Icon.svg/500px-Speaker_Icon.svg.png") {
      resumeAll();
    } else {
      muteAll();
    }
  }

  function toggleMusic(img) {
    var music_on = "https://upload.wikimedia.org/wikipedia/commons/thumb/9/9f/Music_run.svg/640px-Music_run.svg.png";
    var music_off = "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7d/Music_cancel.svg/640px-Music_cancel.svg.png"
    img.src = img.src == music_on ? music_off :
      music_on;
    if (img.src == music_on) {
      resumeAll();
    } else {
      document.getElementById("welcomeSound").pause();
    }


  }

  function playAttack() {
    var attack_sound = document.getElementById("attack-sound");
    attack_sound.play();
  }

  // sorry you had to see these...
  document.getElementById("resume-text").addEventListener("mouseover", mouseOver);
  document.getElementById("resume-text").addEventListener("mouseout", mouseOut);

  document.getElementById("experience-text").addEventListener("mouseover", mouseOver);
  document.getElementById("experience-text").addEventListener("mouseout", mouseOut);

  document.getElementById("projects-text").addEventListener("mouseover", mouseOver);
  document.getElementById("projects-text").addEventListener("mouseout", mouseOut);

  document.getElementById("about-text").addEventListener("mouseover", mouseOver);
  document.getElementById("about-text").addEventListener("mouseout", mouseOut);


  document.getElementById("resume-text").addEventListener("click", showModal);
  document.getElementById("experience-text").addEventListener("click", showModal);
  document.getElementById("projects-text").addEventListener("click", showModal);
  document.getElementById("about-text").addEventListener("click", showModal);

  document.getElementById("modal-popup").addEventListener("click", hideModal);

  document.getElementById("resume-close").addEventListener("click", showChoices);
  document.getElementById("experience-close").addEventListener("click", showChoices);
  document.getElementById("projects-close").addEventListener("click", showChoices);
  document.getElementById("about-close").addEventListener("click", showChoices);
  document.getElementById("final-close").addEventListener("click", hideModal);


  let close_button = document.getElementById("resume-close");
  close_button.addEventListener("click", hideModal);
  var temp = "";
  var tempId = "";
  var hideId = "";
  var ppId = "";
  // var f = "PP 7/9 DARK";
  // f[3] = parseInt(f[3])--.toString();

  function hideModal() {
    hideId = tempId;
    document.getElementById("modal-popup").style.display = "none";
    document.getElementById(hideId).style.display = "none";
    document.getElementById("typewriter-sentence").style.display = "none";
    //test if hp-num == 0
    // then pop up final modal
    if (this.id != "resume-close") {
      if (parseInt(document.getElementById("hp-num").innerHTML) <= 0) {
        document.getElementById("modal-popup").style.display = "flex";
        document.getElementById("modal-final").style.display = "initial";
        document.getElementById("form-contents").style.display = "initial";
      }
    }

    showChoices();
  }

  function showModal() {
    attack();
    console.log("after attack");
    if (this.id == "resume-text") {
      tempId = "modal-resume";
      typewriter_contents = "Jibran showed his resume!";
    } else if (this.id == "experience-text") {
      tempId = "modal-experience";
      typewriter_contents = "Jibran did a back flip!";
    } else if (this.id == "projects-text") {
      tempId = "modal-projects";
      typewriter_contents = "Jibran compiled a project!";
    } else if (this.id == "about-text") {
      tempId = "modal-about";
      typewriter_contents = "Jibran told his past!";
    }
    var sent = document.getElementById("typewriter-sentence");
    sent.style.display = "flex";
    var typewriter_contents;
    sent.innerHTML = typewriter_contents;
    reset_animation();

    setTimeout(function() {
      document.getElementById("modal-popup").style.display = "flex";
      document.getElementById(tempId).style.display = "initial";
      document.getElementById("typewriter-sentence").style.display = "none";
    }.bind(this), 3000);


    console.log("outside setTimeout");
  }

  function reset_animation() {
    var el = document.getElementById('typewriter-id');
    el.style.animation = 'none';
    el.offsetHeight;
    el.style.animation = null;
  }

  function mouseOver() {
    temp = this.innerHTML;
    document.getElementById("item-select").play();
    target = document.getElementById("easter");
    if (this.id == "resume-text") {
      target.innerHTML = "PP 7/9 DARK";

      // target.innerHTML = "PP " + temp +"/9 DARK";
    } else if (this.id == "experience-text") {
      target.innerHTML = "PP 5/6 PSYCHIC";
    } else if (this.id == "projects-text") {
      target.innerHTML = "PP 6/6 STEEL";
    } else if (this.id == "about-text") {
      target.innerHTML = "PP 1/1 FIRE";
    } else {
      target.innerHTML = "";
    }

  }

  function mouseOut() {
    target = document.getElementById("easter");
    target.innerHTML = "";
    this.innerHTML = temp;
  }

  function showChoices() {
    if (this.id != "resume-close") {
      if (parseInt(document.getElementById("hp-num").innerHTML) == 0) {
        document.getElementById("modal-popup").style.display = "flex";
        document.getElementById("modal-final").style.display = "initial";
        document.getElementById("victorySound").play();
        document.getElementById("welcomeSound").pause();
      } else {
        choice_container = document.getElementById("choice-container");
        choice_container.style.display = "initial";
      }
    }
  }

  function removeVal(array, val) {
    return arr.filter(function(v) {
      return v != val;
    });
  }

  function attack() {
    playAttack();
    let colors = ["red", "orange", "green", "yellow", "blue", "purple"];
    const curr = colors[Math.floor(Math.random() * colors.length)];
    document.getElementById("attack").style.backgroundColor = curr;
    document.getElementById("attack").style.display = "inline";

    var hpnum = document.getElementById("hp-num").innerHTML;
    var next_hpnum = parseInt(hpnum) - 5;

    var oldbar = hp.clientWidth;

    console.log(oldbar);
    if (parseInt(oldbar) < 35 || next_hpnum == 0) {
      var hpbar = 0 + "px";
    } else {
      var hpbar = parseInt(oldbar) - (parseInt(oldbar) * .2) + "px";
    }

    choice_container = document.getElementById("choice-container");
    choice_container.style.display = "none";

    let start = Date.now(); // remember start time

    let timer = setInterval(function() {
      // how much time passed from the start?
      let timePassed = Date.now() - start;

      if (timePassed >= 680) {
        clearInterval(timer); // finish the animation after 2 seconds
        return;
      }

      // draw the animation at the moment timePassed
      draw(timePassed);

    }, 20);
    setTimeout(function() {
      hideAttack();
      document.getElementById("hp-num").innerHTML = next_hpnum.toString();
      if (next_hpnum <= 10) {
        hp.style.backgroundColor = "yellow";
        if (next_hpnum <= 5) {
          hp.style.backgroundColor = "red";
        }
      }

      hp.style.width = hpbar.toString();
      console.log(getComputedStyle(hp).width);
    }, 680);

  }

  function hideAttack() {
    document.getElementById("attack").style.display = "none";
  }

  function draw(timePassed) {
    document.getElementById("attack").style.left = 30 + timePassed / 15 + 'vw';
    document.getElementById("attack").style.top = 26 + 3 - timePassed / 25 + 'vw';
  }

  function mute(sound) {
    sound.muted = true;
    sound.pause();
  }

  function unmute(sound) {
    sound.muted = false;
  }

  function muteAll() {
    var sounds = document.querySelectorAll("audio");

    [].forEach.call(sounds, function(sound) {
      mute(sound);
    });
  }

  function resumeAll() {
    var sounds = document.querySelectorAll("audio");

    [].forEach.call(sounds, function(sound) {
      unmute(sound);
    });
    document.getElementById("welcomeSound").play();
  }
</script>
